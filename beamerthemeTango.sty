%% Tango color-theme for LaTeX Beamer
%% By Jan Niklas Schm√§ke created on 21.12.2024
%% https://github.com/schmaeke/tango-beamer

% Load required packages
\RequirePackage{xparse}
\RequirePackage{xcolor}
\RequirePackage{hyperref}
\RequirePackage{listings}
\RequirePackage{tikz}
\usepackage{totcount}

% Load individual sub-themes
\usecolortheme{Tango}
\usefonttheme{Tango}
\useinnertheme{Tango}
\useoutertheme{Tango}

% Register section counter.
\regtotcounter{section}

% Additional commands
\newcommand{\inversetikzframe}[1]{%
	\usebeamercolor{normal text}
	\begin{frame}[plain, noframenumbering]
		\begin{tikzpicture}[remember picture, overlay]
			\usebeamercolor{title}
			\node[rotate = -10] at (current page.south west) {%
				\tikz{%
					\fill[darkblue] (current page) ++ (-0.5\paperwidth, -0.5\paperheight) circle (1.5\paperwidth);
					\draw[fg, step = 0.5, opacity = 0.05] (-\paperwidth, -\paperheight) grid (2\paperwidth, 2\paperheight);
					\draw[fg, opacity = 0.1] (-\paperwidth, -\paperheight) grid (2\paperwidth, 2\paperheight);
					}
			};

			#1

		\end{tikzpicture}
	\end{frame}
}

% Standout frame
\newcommand{\standoutframe}[2]{%
	\inversetikzframe{%
		\usebeamercolor{normal text}
		\node[background, draw = background, line width = 0.4mm, rounded corners = 1mm, inner sep = 4mm] (content) at (current page) {%
			\begin{minipage}{0.8\paperwidth}
				\begin{center}
					\fontsize{24pt}{24pt}\selectfont\bfseries#1
				\end{center}
			\end{minipage}
		};

		\node[xshift = -4mm, left, darkblue, fill = background, rounded corners = 0.5mm] at (content.north east) {\MakeUppercase{#2}};
	}
}

% Section frame
\newcommand{\sectionframe}[1]{%
	\section{#1}
	\begin{frame}[plain, noframenumbering]
	
	\end{frame}
}

% Closing frame.
\newcommand{\closingframe}[3]{%
	\inversetikzframe{%
		\node at (current page) {%
			\begin{minipage}{0.85\paperwidth}
				\usebeamerfont{normal text}%
				\begin{center}
					\color{fg}%
					#1 \\
					\vspace*{10mm}
					{\Huge\bfseries\inserttitle} \\
					\vspace*{10mm}
					#2 \\
					\vspace*{10mm}
					\@ifundefined{smalllogovalue}{%
						\colorbox{red}{Set logo with \texttt{$\backslash$smalllogo\{...\}}} \\
					}{%
						\includegraphics[width = 4cm]{\smalllogovalue} \\
					}%
					\vspace*{10mm}
					#3
				\end{center}
			\end{minipage}
		};
	}
}

\newcommand{\weblink}[1]{\href{http://#1}{\texttt{#1}}}

\newcommand{\coauthors}[1]{\def\coauthorsvalue{#1}}

\newcommand{\biglogo}[1]{\def\biglogovalue{#1}}

\newcommand{\smalllogo}[1]{\def\smalllogovalue{#1}}

% Hyperref setup
\hypersetup{
	colorlinks = true,
	allcolors = darkpurple,
}


% Listings
\lstdefinelanguage{Julia}%
  {morekeywords={abstract,break,case,catch,const,continue,do,else,elseif,%
      end,export,false,for,function,immutable,import,importall,if,in,%
      macro,module,otherwise,quote,return,switch,true,try,type,typealias,%
      using,while},%
   sensitive=true,%
   alsoother={$},%
   morecomment=[l]\#,%
   morecomment=[n]{\#=}{=\#},%
   morestring=[s]{"}{"},%
   morestring=[m]{'}{'},%
}[keywords,comments,strings]%


\lstset
{
	frame = single,
	% frameshape={RYR}{Y}{Y}{RYR},
	framerule = 0.25mm,
	rulecolor = \color{darkgray},
	belowcaptionskip = 2mm,
	aboveskip = 0em,
	belowskip = 0em,
	showstringspaces = false,
	columns = fixed,
	basicstyle = {\linespread{1.0}\ttfamily\small},
	numbers = none,
	numbersep = 0mm,
	numberstyle = {\color{lightgray}\ttfamily\scriptsize},
	xleftmargin = 0em,
	keywordstyle = {\color{magenta}},
	commentstyle = {\color{darkgreen}\slshape},
	stringstyle = {\color{yellow}},
	breaklines = true,
	breakatwhitespace	= true,
	tabsize = 2,
	backgroundcolor = \color{foreground!2!background},
	mathescape = true,
	captionpos = b,
	emph = {continue,and},
	emphstyle = {\color{blue}},
	escapechar = ?,
	language = Julia,
}
